# Supabase Email Template Setup Guide

This guide provides branded email templates for Supabase Authentication emails that match your Nego branding.

## Available Templates

1. **Confirm sign up** - Email verification for new users
2. **Reset password** - Password reset requests
3. **Magic link** - One-time passwordless sign-in link

---

## Template 1: "Confirm sign up"

### Subject Line
```
Verify Your Email - Nego
```

### HTML Body
Copy the entire contents of `supabase-email-template-confirm-signup.html` into the Supabase Dashboard.

### Steps to Apply:

1. Go to **Supabase Dashboard** → **Authentication** → **Email Templates**
2. Click on **"Confirm sign up"** template
3. Set the **Subject** to: `Verify Your Email - Nego`
4. Click the **"Source"** tab (not Preview)
5. Replace the entire HTML body with the content from `supabase-email-template-confirm-signup.html`
6. Click **"Save changes"**

---

## Template 2: "Reset password"

### Subject Line
```
Reset Your Password - Nego
```

### HTML Body
Copy the entire contents of `supabase-email-template-reset-password.html` into the Supabase Dashboard.

### Steps to Apply:

1. Go to **Supabase Dashboard** → **Authentication** → **Email Templates**
2. Click on **"Reset password"** template
3. Set the **Subject** to: `Reset Your Password - Nego`
4. Click the **"Source"** tab (not Preview)
5. Replace the entire HTML body with the content from `supabase-email-template-reset-password.html`
6. Click **"Save changes"**

---

## Template 3: "Magic link"

### Subject Line
```
Your Magic Link - Nego
```

### HTML Body
Copy the entire contents of `supabase-email-template-magic-link.html` into the Supabase Dashboard.

### Steps to Apply:

1. Go to **Supabase Dashboard** → **Authentication** → **Email Templates**
2. Click on **"Magic link"** template
3. Set the **Subject** to: `Your Magic Link - Nego`
4. Click the **"Source"** tab (not Preview)
5. Replace the entire HTML body with the content from `supabase-email-template-magic-link.html`
6. Click **"Save changes"**

---

## Available Variables in Supabase Templates:

- `{{ .ConfirmationURL }}` - The verification/reset/magic link (used in all templates)
- `{{ .Token }}` - The verification/reset/magic link token
- `{{ .TokenHash }}` - Hashed token
- `{{ .SiteURL }}` - Your site URL
- `{{ .Email }}` - User's email address (used in all templates)
- `{{ .Data }}` - Additional user data
- `{{ .RedirectTo }}` - Redirect URL after verification/reset/sign-in

---

## Template Features:

✅ **Consistent Branding**
- Dark theme matching your app design
- NEGO. logo with red accent (#df2531)
- Modern, clean design

✅ **Email Client Compatibility**
- Inline CSS for maximum compatibility
- Responsive design
- Works across major email clients

✅ **User-Friendly**
- Clear call-to-action buttons
- Fallback link text for accessibility
- Helpful information cards

---

## Notes:

- All templates use the same styling and branding for consistency
- The verification/reset/magic links (`{{ .ConfirmationURL }}`) are automatically generated by Supabase
- These templates will be used when Supabase sends authentication emails
- The templates match your custom email templates in `src/lib/email.ts` for a seamless user experience
- Magic links expire in 1 hour for security

---

## Testing:

After applying the templates:

1. **Test Email Verification:**
   - Register a new user
   - Check that the verification email matches your branding

2. **Test Password Reset:**
   - Request a password reset
   - Check that the reset email matches your branding

3. **Test Magic Link:**
   - Request a magic link sign-in
   - Check that the magic link email matches your branding
   - Verify the link logs you in without a password

4. **Verify Links:**
   - Ensure all `{{ .ConfirmationURL }}` links work correctly
   - Test on different email clients (Gmail, Outlook, Apple Mail, etc.)
   - Verify magic links expire after 1 hour
